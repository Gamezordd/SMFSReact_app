(this.webpackJsonpsm_fs_reactapp=this.webpackJsonpsm_fs_reactapp||[]).push([[0],{115:function(e,t,a){},117:function(e,t,a){},119:function(e,t,a){},120:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),s=a(16),r=a.n(s),o=a(30),i=a(8),c=a(28),u=a(12),m=a(33),d=a(34),p=a(41),h=a(40),g=a(77),E=a(76),f=a(131),y=a(130),w=a(132),b=a(128),v=a(129),C=a(75),x=["#E38627","#C13C37","#6A2135","#99ffdd"],k=a(82),j=a(135),S=a(73),O=function(e){var t=null;if(e.pointsBreakup!==[]&&(t=e.pointsBreakup),t&&0!==t.length){var a=t.map((function(e,t){return{title:e.category,value:e.points,color:x[t%x.length]}}));return l.a.createElement(l.a.Fragment,null,l.a.createElement(S.PieChart,{animate:!0,radius:40,data:a}))}return null},P=a(126),L=function(e){return 0===e.pointsBreakup.length?null:l.a.createElement(P.a,{striped:!0,borderless:!0,hover:!0,size:"sm"},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Criteria"),l.a.createElement("th",null,"Beta Points"))),l.a.createElement("tbody",null,e.pointsBreakup.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.category," "),l.a.createElement("td",null," ",e.points," "))}))))},_=function(e){return l.a.createElement(y.a,{show:e.open,onHide:e.toggle},l.a.createElement(y.a.Header,{closeButton:!0},l.a.createElement(y.a.Title,null,e.post.company)),l.a.createElement(y.a.Body,null,l.a.createElement("div",{className:"row",style:{paddingLeft:"16px"}},l.a.createElement("h4",null," ",e.post.name," ")),l.a.createElement("div",{className:"row",style:{padding:"16px"}},e.post.details),l.a.createElement("div",{className:"row",style:{padding:"10px"}},l.a.createElement("div",{className:"col-6"},l.a.createElement(O,{pointsBreakup:e.post.pointsBreakup})),l.a.createElement("div",{className:"col-6",style:{maxHeight:"250px",overflowY:"auto"}},l.a.createElement(L,{pointsBreakup:e.post.pointsBreakup})))))},T=function(e){var t=Object(n.useState)(!1),a=Object(k.a)(t,2),s=a[0],r=a[1];e.data.details,e.data.pointsBreakup,e.data.pointsBreakup;return l.a.createElement(l.a.Fragment,null,l.a.createElement(C.a,{xs:"12",sm:"6",md:"4",lg:"3"},l.a.createElement(j.a,{onClick:function(){return r(!0)},className:"mx-auto my-1"},l.a.createElement(j.a.Body,null,l.a.createElement("div",{style:{height:"100px",overflowX:"auto"}},l.a.createElement(j.a.Title,null," ",e.data.name," - ",e.data.company," "),l.a.createElement(j.a.Subtitle,{className:"text-muted mb-2"}," ",e.data.class," ")),l.a.createElement(j.a.Text,null,l.a.createElement(E.a,null,"Apply"))))),l.a.createElement(_,{open:s,toggle:function(){return r(!1)},post:e.data}))},N=a(127),B=(a(92),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleTypeSelect=function(e,t){var a;n.state.posts&&t&&n.state.posts.length>0&&n.setState({filteredPosts:null===(a=n.state.posts)||void 0===a?void 0:a.filter((function(e){return e.class===t.target.text})),internClass:t.target.text})},n.handleFilter=function(){var e=[];return(n.state.minPoints||n.state.maxPoints)&&n.state.posts&&n.state.posts.length>0?(n.state.posts.map((function(t){if(t.pointsBreakup.length>0){var a=0;if(t.pointsBreakup.forEach((function(e){return a+=e.points})),n.state.minPoints&&n.state.maxPoints&&a>=n.state.minPoints&&a<=n.state.maxPoints)return e=e.concat(t);if(n.state.minPoints&&!n.state.maxPoints&&a>=n.state.minPoints)return e=e.concat(t);if(n.state.maxPoints&&!n.state.minPoints&&a<=n.state.maxPoints)return e=e.concat(t)}})),n.setState({filteredPosts:e})):n.setState({filteredPosts:n.state.posts})},n.handleChange=function(e){n.setState(Object(u.a)(Object(u.a)({},n.state),{},Object(c.a)({},e.target.id,e.target.value)))},n.state={isLoading:!0,posts:null,filteredPosts:null,internClass:"Select",minPoints:null,maxPoints:null,isFilterModalOpen:!1},n}return Object(d.a)(a,[{key:"componentDidMount",value:function(){var e=this;fetch("https://sm-fs-express.herokuapp.com//internship/").then((function(e){return e.json()})).then((function(t){console.log(t),e.setState({posts:t,isLoading:!1,filteredPosts:t})}))}},{key:"render",value:function(){var e=this,t=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"filterBar"},l.a.createElement("div",{style:{display:"flex",flexDirection:"row",alignItems:"center",padding:"1%"}},l.a.createElement("div",{style:{flex:2}},l.a.createElement(g.a,{id:"minPoints",onChange:this.handleChange,placeholder:"min. Points"})),l.a.createElement("div",{style:{paddingLeft:"1%",paddingRight:"1%"}},"-"),l.a.createElement("div",{style:{flex:2}},l.a.createElement(g.a,{id:"maxPoints",onChange:this.handleChange,placeholder:"max. Points"})),l.a.createElement("div",{style:{flex:1,display:"flex",justifyContent:"flex-end"}},l.a.createElement(E.a,{onClick:this.handleFilter,variant:"secondary"},"Filter")),l.a.createElement("div",{style:{flex:7}}),l.a.createElement("div",{style:{flex:2,display:"flex",justifyContent:"flex-end"}},l.a.createElement(f.a,null,l.a.createElement(f.a.Toggle,null,this.state.internClass),l.a.createElement(f.a.Menu,null,l.a.createElement(f.a.Item,{eventKey:"1",onSelect:this.handleTypeSelect},"Technical"),l.a.createElement(f.a.Item,{eventKey:"2",onSelect:this.handleTypeSelect},"Non-Technical"))))))),a=l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"filterBar"},l.a.createElement("div",{style:{display:"flex",alignItems:"center",padding:"3%"}},l.a.createElement(E.a,{onClick:function(){e.setState({isFilterModalOpen:!0})},variant:"secondary"},l.a.createElement(N.a,{width:"25px",height:"25px"})))),l.a.createElement(y.a,{backdrop:window.innerWidth>800,show:this.state.isFilterModalOpen,onHide:function(){return e.setState({isFilterModalOpen:!1})}},l.a.createElement(y.a.Header,{closeButton:!0},l.a.createElement(y.a.Title,null,"Filter Results")),l.a.createElement(y.a.Body,null,l.a.createElement("div",{className:"row p-3"},l.a.createElement(w.a,{style:{width:"100%"}},l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Type: "),l.a.createElement(f.a,null,l.a.createElement(f.a.Toggle,null,this.state.internClass),l.a.createElement(f.a.Menu,null,l.a.createElement(f.a.Item,{eventKey:"1",onSelect:this.handleTypeSelect},"Technical"),l.a.createElement(f.a.Item,{eventKey:"2",onSelect:this.handleTypeSelect},"Non-Technical")))),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Values:"),l.a.createElement(g.a,{id:"minPoints",onChange:this.handleChange,placeholder:"min. Points"}),l.a.createElement(g.a,{style:{marginTop:"10px"},id:"maxPoints",onChange:this.handleChange,placeholder:"max. Points"})),l.a.createElement(w.a.Group,null,l.a.createElement(E.a,{onClick:this.handleFilter,variant:"secondary"},"Filter")))))));return l.a.createElement(l.a.Fragment,null,l.a.createElement(b.a,{fluid:!0,className:"container",style:{padding:window.innerWidth>800?void 0:0}},l.a.createElement("div",{style:{borderStyle:"solid",borderColor:"rgb(64,64,64,0.18)",borderWidth:"1px",borderRadius:"10px"}},l.a.createElement(v.a,null,l.a.createElement(C.a,null,window.innerWidth>800?t:a,l.a.createElement(v.a,{style:{height:"80vh",overflowY:"auto"},className:"px-3"},this.state.filteredPosts&&this.state.filteredPosts.map((function(e){return l.a.createElement(T,{data:e})}))))))))}}]),a}(l.a.Component)),I=a(133),F=a(134),G=a(23),A=a(29),M=a.n(A),W=Object(G.b)((function(e){return{jwt_token:e.user.jwt_token}}),(function(e){return{logout:function(){return e({type:"LOGOUT_ACTION"})}}}))((function(e){console.log("login:",e.isLoggedIn);var t=l.a.createElement("div",{className:"justify-content-end",style:{display:"flex",flexDirection:"row"}},l.a.createElement(I.a.Link,{onClick:function(){console.log("toke: ",e.jwt_token),M.a.get("https://sm-fs-express.herokuapp.com/admin/logout",{headers:{Authorization:"bearer ".concat(e.jwt_token)}}).then((function(t){console.log("response: ",t.data),t.data.logout&&e.logout()}))}},l.a.createElement(o.b,{to:"/login"}," Sign Out ")),l.a.createElement(I.a.Link,null,l.a.createElement(o.b,{to:"/admin"}," Create Post "))),a=l.a.createElement(I.a.Link,{className:"justify-content-end"},l.a.createElement(o.b,{to:"/login"}," Login "));return l.a.createElement(F.a,{bg:"light",sticky:"top",style:{height:"40px",marginBottom:"10px"}},l.a.createElement(F.a.Brand,null,"Internships"),l.a.createElement(I.a.Link,null,l.a.createElement(o.b,{to:"/"},"Home")),l.a.createElement(F.a.Collapse,{className:"justify-content-end"},e.isLoggedIn?t:a))})),D=(a(115),{name:"",class:"Select",company:"",details:"",breakup:[],newCat:!1,new_cat:"",new_points:0}),H=function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){var t;n.setState(Object(u.a)(Object(u.a)({},n.state),{},(t={},Object(c.a)(t,e.target.id,e.target.value),Object(c.a)(t,"submission_success",!1),t)))},n.handleCategoryAdd=function(){if(""===n.state.new_cat&&0===n.state.new_points)return n.setState({newCat:!1});n.setState({breakup:n.state.breakup.concat({category:n.state.new_cat,points:n.state.new_points})}),n.setState({new_cat:"",new_points:0,newCat:!1})},n.handleDropdown=function(e,t){n.setState({class:t.target.text})},n.handlesubmit=function(){M()({url:"https://sm-fs-express.herokuapp.com//internship/",headers:{Authorization:"bearer ".concat(n.props.jwt_token)},data:{name:n.state.name,company:n.state.company,details:n.state.details,class:n.state.class,pointsBreakup:n.state.breakup},method:"POST"}).then((function(e){console.log("response: ",e),n.setState(Object(u.a)(Object(u.a)({},D),{},{submission_success:!0}))})).catch((function(e){console.log("error: ",e)}))},n.state=Object(u.a)(Object(u.a)({},D),{},{submission_success:!1}),n}return Object(d.a)(a,[{key:"render",value:function(){var e,t=this,a=l.a.createElement("div",{className:"row"},l.a.createElement("input",{onChange:this.handleChange,placeholder:"Category",style:{marginLeft:"10px",marginRight:"10px"},className:"col-md-6 col-xs-10",id:"new_cat"}),l.a.createElement("input",{onChange:this.handleChange,placeholder:"Points",style:{margin:"10px"},className:"col-md-6 col-xs-10",id:"new_points"})),n=l.a.createElement(w.a,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null," Title: "),l.a.createElement(w.a.Control,{id:"name",onChange:this.handleChange})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null," Type: "),l.a.createElement(f.a,null,l.a.createElement(f.a.Toggle,null,this.state.class),l.a.createElement(f.a.Menu,null,l.a.createElement(f.a.Item,{onSelect:this.handleDropdown},"Technical"),l.a.createElement(f.a.Item,{onSelect:this.handleDropdown},"Non-Technical")))),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null," Company: "),l.a.createElement(w.a.Control,{id:"company",onChange:this.handleChange})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null," Details: "),l.a.createElement(w.a.Control,{as:"textarea",rows:10,id:"details",onChange:this.handleChange})),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Breakup:"),l.a.createElement("div",null,this.state.breakup&&this.state.breakup.length>0&&l.a.createElement(P.a,{size:"sm",style:{width:"50%"}},l.a.createElement("thead",null,l.a.createElement("tr",null,l.a.createElement("th",null,"Category"),l.a.createElement("th",null,"Points"))),l.a.createElement("tbody",null,null===(e=this.state.breakup)||void 0===e?void 0:e.map((function(e){return l.a.createElement("tr",null,l.a.createElement("td",null," ",e.category," "),l.a.createElement("td",null," ",e.points," "))}))))),this.state.newCat?a:null,this.state.newCat?l.a.createElement(E.a,{variant:"secondary",onClick:this.handleCategoryAdd},"Add"):l.a.createElement(E.a,{variant:"secondary",onClick:function(){t.setState({newCat:!0})}},"New Category")),l.a.createElement(w.a.Group,{style:{display:"flex",flexDirection:"row"}},l.a.createElement(E.a,{variant:this.state.submission_success?"success":"primary",disabled:""===this.state.name||"Select"===this.state.class||""===this.state.company||""===this.state.details,onClick:this.handlesubmit},this.state.submission_success?"Post Created":"Submit")));return l.a.createElement(b.a,null,l.a.createElement("div",{className:"row"},l.a.createElement("div",{className:"col-md-8 col-xs-12 mx-auto"},l.a.createElement("h3",{style:{marginBottom:"20px"}},"Create New Post:"),n)))}}]),a}(l.a.Component),z=Object(G.b)((function(e){return{jwt_token:e.user.jwt_token}}),null)(H),K=Object(G.b)((function(e){return{isLoggedIn:e.user.isLoggedIn,jwt_token:e.user.jwt_token}}),null)((function(e){return console.log("main login: ",e.isLoggedIn),l.a.createElement(l.a.Fragment,null,l.a.createElement(o.a,null,l.a.createElement(W,{isLoggedIn:e.isLoggedIn}),l.a.createElement(i.d,null,l.a.createElement(i.b,{exact:!0,path:"/",component:B}),l.a.createElement(i.b,{exact:!0,path:"/login",component:V}),e.jwt_token?l.a.createElement(i.b,{exact:!0,path:"/admin",component:z}):null,l.a.createElement(i.a,{to:"/"}))))})),R=a(62),U=a.n(R),J=a(80),Y=(a(117),function(e){Object(p.a)(a,e);var t=Object(h.a)(a);function a(e){var n;return Object(m.a)(this,a),(n=t.call(this,e)).handleChange=function(e){return"username"===e.target.id?n.setState({username:e.target.value,usernameExists:!1}):"password"===e.target.id?n.setState({password:e.target.value,passwordError:!0}):void("confirm_password"===e.target.id&&(e.target.value===n.state.password?n.setState({passwordError:!1}):n.setState({passwordError:!0})))},n.state={username:null,password:null,isSignupForm:!1,passwordError:!1,usernameExists:!1,badCredentials:!1},n}return Object(d.a)(a,[{key:"handleClick",value:function(){var e=Object(J.a)(U.a.mark((function e(t){var a=this;return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(console.log("action: ",t),"login"!==t){e.next=6;break}return e.next=4,M.a.post("https://sm-fs-express.herokuapp.com//admin/login",{username:this.state.username,password:this.state.password}).then((function(e){e.data.success&&(a.props.login(e.data.token),a.props.history.push("/")),console.log("response:",e.data.token)})).catch((function(e){e.response&&401===e.response.status&&a.setState({badCredentials:!0})}));case 4:e.next=9;break;case 6:if("signup"!==t){e.next=9;break}return e.next=9,M.a.post("https://sm-fs-express.herokuapp.com//admin/signup",{username:this.state.username,password:this.state.password}).then((function(e){console.log("response: ",e)})).catch((function(e){console.log("code: ",e.response.status),e.response&&409===e.response.status&&a.setState({usernameExists:!0})}));case 9:case"end":return e.stop()}}),e,this)})));return function(t){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,a=l.a.createElement(E.a,{onClick:function(){return t.handleClick("login")}},"Login"),n=l.a.createElement(E.a,{disabled:this.state.passwordError||0===(null===(e=this.state.password)||void 0===e?void 0:e.length)||!this.state.password,onClick:function(){return t.handleClick("signup")}},"Signup"),s=l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Confirm Password: "),l.a.createElement(w.a.Control,{onChange:this.handleChange,id:"confirm_password",type:"password",placeholder:"Confirm Password"}),this.state.passwordError?l.a.createElement(w.a.Text,null," Passwords should match"):null);return l.a.createElement(b.a,null,l.a.createElement("h3",{style:{textAlign:"center",marginBottom:"20px",marginTop:"20px"}},this.state.isSignupForm?"Signup for a new account:":"Login with your account:"," "),l.a.createElement("div",{className:"formContainer mx-auto"},l.a.createElement(w.a,null,l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Email: "),l.a.createElement(w.a.Control,{id:"username",onChange:this.handleChange,type:"email",placeholder:"Enter your email",style:{width:"30vw",minWidth:"300px"}}),l.a.createElement(w.a.Text,{hidden:!this.state.usernameExists},"Username taken please try another one."),l.a.createElement(w.a.Text,{hidden:!this.state.badCredentials},"Wrong Username/Password")),l.a.createElement(w.a.Group,null,l.a.createElement(w.a.Label,null,"Password: "),l.a.createElement(w.a.Control,{id:"password",onChange:this.handleChange,type:"password",placeholder:"Password",style:{width:"30vw",minWidth:"300px"}})),this.state.isSignupForm?s:null,l.a.createElement(w.a.Group,null,this.state.isSignupForm?n:a),l.a.createElement(w.a.Group,null,l.a.createElement("div",{style:{textAlign:"center"}},this.state.isSignupForm?l.a.createElement("a",{href:"#",onClick:function(){return t.setState({isSignupForm:!t.state.isSignupForm,badCredentials:!1})}},"Already a member? Login"):l.a.createElement("a",{href:"#",onClick:function(){return t.setState({isSignupForm:!t.state.isSignupForm,badCredentials:!1})}},"Signup"))))))}}]),a}(l.a.Component)),V=Object(G.b)((function(e){return{isLoggedIn:e.user.isLoggedIn}}),(function(e){return{login:function(t){return e({type:"LOGIN_ACTION",payload:t})}}}))(Y),X=a(48),$=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{isLoggedIn:!1,jwt_token:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"LOGIN_ACTION":return console.log("set token: ",t.payload),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!0,jwt_token:t.payload});case"LOGOUT_ACTION":return console.log("logout"),Object(u.a)(Object(u.a)({},e),{},{isLoggedIn:!1,jwt_token:null});default:return e}},q=Object(X.c)(Object(X.b)({user:$}));var Q=function(){return l.a.createElement(G.a,{store:q},l.a.createElement(K,null))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));a(118),a(119);r.a.render(l.a.createElement(l.a.StrictMode,null,l.a.createElement(Q,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},85:function(e,t,a){e.exports=a(120)},92:function(e,t,a){}},[[85,1,2]]]);
//# sourceMappingURL=main.3f0e21d7.chunk.js.map